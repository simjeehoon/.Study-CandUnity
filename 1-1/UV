#include <stdio.h>
int mpower(int,int,int);

int main(void)
{
	int b, n, m;
	
	printf("b^n mod m을 구합니다. b, n, m을 순서대로 입력해주세요 :\n");
	scanf("%d%d%d", &b, &n, &m);
	printf("%d^%d mod %d = %d\n", b, n, m, mpower(b,n,m));
	return 0;
}

int mpower(int b, int n, int m)
{
	int powofmp;
	if (n==0)
		return 1;
	else if(!(n%2))
	{
		powofmp = mpower(b, n/2, m);
		return (powofmp*powofmp)%m;
	}
	else
	{
		powofmp = mpower(b, n/2, m);
		return (((powofmp*powofmp)%m)*(b%m))%m;
	}
}
